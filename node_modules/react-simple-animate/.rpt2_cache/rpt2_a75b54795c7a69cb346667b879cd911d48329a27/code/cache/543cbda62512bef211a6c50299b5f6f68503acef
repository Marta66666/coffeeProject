{"code":"import { useState, useEffect, useRef, useContext } from 'react';\r\nimport createRandomName from './utils/createRandomName';\r\nimport createTag from './logic/createTag';\r\nimport { AnimateContext } from './animateGroup';\r\nimport deleteRules from './logic/deleteRules';\r\nimport getPlayState from './utils/getPauseState';\r\nexport default function useAnimateKeyframes(props) {\r\n    const { duration = 0.3, delay = 0, easeType = 'linear', direction = 'normal', fillMode = 'none', iterationCount = 1, keyframes, } = props;\r\n    const animationNameRef = useRef({\r\n        forward: '',\r\n        reverse: '',\r\n    });\r\n    const styleTagRef = useRef({\r\n        forward: { sheet: {} },\r\n        reverse: { sheet: {} },\r\n    });\r\n    const { register } = useContext(AnimateContext);\r\n    const [isPlaying, setIsPlaying] = useState(true);\r\n    const [isPaused, setIsPaused] = useState(false);\r\n    useEffect(() => {\r\n        animationNameRef.current.forward = createRandomName();\r\n        let result = createTag({\r\n            animationName: animationNameRef.current.forward,\r\n            keyframes,\r\n        });\r\n        styleTagRef.current.forward = result.styleTag;\r\n        animationNameRef.current.reverse = createRandomName();\r\n        result = createTag({\r\n            animationName: animationNameRef.current.reverse,\r\n            keyframes: keyframes.reverse(),\r\n        });\r\n        styleTagRef.current.reverse = result.styleTag;\r\n        register(props);\r\n        return () => {\r\n            deleteRules(styleTagRef.current.forward.sheet, animationNameRef.current.forward);\r\n            deleteRules(styleTagRef.current.reverse.sheet, animationNameRef.current.reverse);\r\n        };\r\n    }, []);\r\n    const play = (isPlay) => {\r\n        setIsPlaying(isPlay);\r\n    };\r\n    const pause = (isPaused) => {\r\n        setIsPaused(isPaused);\r\n    };\r\n    const style = {\r\n        animation: `${duration}s ${easeType} ${delay}s ${iterationCount} ${direction} ${fillMode} ${getPlayState(isPaused)} ${(isPlaying ? animationNameRef.current.forward : animationNameRef.current.reverse) || ''}`,\r\n    };\r\n    return {\r\n        style,\r\n        play,\r\n        pause,\r\n        isPlaying,\r\n    };\r\n}\r\n//# sourceMappingURL=useAnimateKeyframes.js.map","map":"{\"version\":3,\"file\":\"useAnimateKeyframes.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/useAnimateKeyframes.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/bill/git/react-simple-animate/useAnimateKeyframes.d.ts","writeByteOrderMark":false,"text":"import { AnimateKeyframesProps } from './types';\r\nexport default function useAnimateKeyframes(props: AnimateKeyframesProps): {\r\n    style: {\r\n        animation: string;\r\n    };\r\n    play: (isPlay: boolean) => void;\r\n    pause: (isPaused: boolean) => void;\r\n    isPlaying: boolean;\r\n};\r\n"}}
