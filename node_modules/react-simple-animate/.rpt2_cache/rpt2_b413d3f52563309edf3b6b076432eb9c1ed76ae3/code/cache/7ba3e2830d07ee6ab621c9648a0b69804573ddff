{"code":"import { useState, useEffect, useRef } from 'react';\r\nimport msToSec from './utils/msToSec';\r\nexport default function useAnimate(props) {\r\n    const { start, end, complete, onComplete, delay = 0, duration = 0.3, easeType = 'linear' } = props;\r\n    const transition = `all ${duration}s ${easeType} ${delay}s`;\r\n    const [style, setStyle] = useState(Object.assign({}, start, { transition }));\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const onCompleteTimeRef = useRef(0);\r\n    useEffect(() => () => {\r\n        onCompleteTimeRef.current && clearTimeout(onCompleteTimeRef.current);\r\n    }, []);\r\n    const play = (isPlay) => {\r\n        setStyle(Object.assign({}, (isPlay ? end : start), { transition }));\r\n        setIsPlaying(isPlay);\r\n        if (isPlay && (complete || onComplete)) {\r\n            // @ts-ignore\r\n            onCompleteTimeRef.current = setTimeout(() => {\r\n                // @ts-ignore\r\n                complete && setStyle(complete);\r\n                onComplete && onComplete();\r\n            }, msToSec(delay + duration));\r\n        }\r\n    };\r\n    return {\r\n        isPlaying,\r\n        style,\r\n        play,\r\n    };\r\n}\r\n//# sourceMappingURL=useAnimate.js.map","map":"{\"version\":3,\"file\":\"useAnimate.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/useAnimate.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,EAAE,MAAM,OAAO,CAAC;AAEpD,OAAO,OAAO,MAAM,iBAAiB,CAAC;AAEtC,MAAM,CAAC,OAAO,UAAU,UAAU,CAAC,KAAY;IAC7C,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,UAAU,EAAE,KAAK,GAAG,CAAC,EAAE,QAAQ,GAAG,GAAG,EAAE,QAAQ,GAAG,QAAQ,EAAE,GAAG,KAAK,CAAC;IACnG,MAAM,UAAU,GAAG,OAAO,QAAQ,KAAK,QAAQ,IAAI,KAAK,GAAG,CAAC;IAC5D,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,mBAAM,KAAK,IAAE,UAAU,IAAG,CAAC;IAC7D,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAClD,MAAM,iBAAiB,GAAG,MAAM,CAAS,CAAC,CAAC,CAAC;IAE5C,SAAS,CACP,GAAQ,EAAE,CAAC,GAAS,EAAE;QACpB,iBAAiB,CAAC,OAAO,IAAI,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;IACvE,CAAC,EACD,EAAE,CACH,CAAC;IAEF,MAAM,IAAI,GAAG,CAAC,MAAe,EAAE,EAAE;QAC/B,QAAQ,mBACH,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,IACzB,UAAU,IACV,CAAC;QAEH,YAAY,CAAC,MAAM,CAAC,CAAC;QAErB,IAAI,MAAM,IAAI,CAAC,QAAQ,IAAI,UAAU,CAAC,EAAE;YACtC,aAAa;YACb,iBAAiB,CAAC,OAAO,GAAG,UAAU,CAAC,GAAG,EAAE;gBAC1C,aAAa;gBACb,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,CAAC;gBAC/B,UAAU,IAAI,UAAU,EAAE,CAAC;YAC7B,CAAC,EAAE,OAAO,CAAC,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC;SAC/B;IACH,CAAC,CAAC;IAEF,OAAO;QACL,SAAS;QACT,KAAK;QACL,IAAI;KACL,CAAC;AACJ,CAAC\"}","dts":{"name":"/Users/bill/git/react-simple-animate/useAnimate.d.ts","writeByteOrderMark":false,"text":"import { Props } from './animate';\r\nexport default function useAnimate(props: Props): {\r\n    isPlaying: boolean;\r\n    style: {\r\n        transition: string;\r\n    } | {\r\n        transition: string;\r\n    };\r\n    play: (isPlay: boolean) => void;\r\n};\r\n"}}
